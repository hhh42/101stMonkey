<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>orientdb &middot; </title>

  
  <link rel="stylesheet" href="http://blog.prohibitedgame.com/css/poole.css">
  <link rel="stylesheet" href="http://blog.prohibitedgame.com/css/hyde.css">
  <link rel="stylesheet" href="http://blog.prohibitedgame.com/css/poole-overrides.css">
  <link rel="stylesheet" href="http://blog.prohibitedgame.com/css/hyde-overrides.css">
  <link rel="stylesheet" href="http://blog.prohibitedgame.com/css/hyde-x.css">
  
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
  <link href="/favicon.png" rel="icon">

  
  <link href="" rel="alternate" type="application/rss+xml" title="Ramblings of the 101st Monkey &middot; " />

  <meta name="description" content="">
  <meta name="keywords" content="">
  <link rel="author" href="http://plus.google.com/haroldhhersey@gmail.com">
</head>
<body>

<div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <img src="http://www.gravatar.com/avatar/963da61f2309f941639485633af4c581?s=200" alt="gravatar">
      <h1></h1>
      <p class="lead">Ramblings of the 101st Monkey</p>
    </div>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item"><a href="http://blog.prohibitedgame.com/">Blog</a></li>
      
      <li class="sidebar-nav-item"><a href="">About</a></li>
      
    </ul>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item"><a href="https://github.com/hhh42">GitHub</a></li>
      <li class="sidebar-nav-item"><a href="http://lnkd.in/bnvEP_g">LinkedIn</a></li>
      
      
      
    </ul>

    <p>Copyright &copy; 2015 <a href="http://blog.prohibitedgame.com/license">License</a><br/>
       Powered by <a href="http://hugo.spf13.com">Hugo</a> and <a href="https://github.com/zyro/hyde-x">Hyde-X</a></p>
  </div>
</div>

<div class="content container">
  <div class="post">
    <h1>orientdb</h1>
    <span class="post-date">Mar 11, 2015 &middot; 6 minute read</span>
    <p>There seems to be a never ending list of potential database solutions, each promising that they&rsquo;re product will most definitely solve your needs better than all the other options out there.  Many try to sould like a silver bullet solution though they may try very hard to dance around those kinds of claims.
I was working on a solution where I felt a very good solution would be some combination of Neo4j (routing problems, and general graph modelling) and Mongo (just need some blobs for storing some blobs of map data).  I had also modeled a solution in Cassandra to substitution Mongo.  I liked the approach required to model things in Cassandra and enjoyed the reading I did to help me figure that all out.</p>

<p>INSERT LINKS</p>

<p>I did not have a favorable reaction to the
I was having a favorable reaction to Neo4j, though I had some issues with working through the limited master slave replication models but in general I felt I could make it all go.  The licensing was likely not to be a problem unless this project took off.   Though I wasn&rsquo;t overly pleased with having to use two databases for the solution it seemed pretty common to use Neo4j with something else to get a full persistence model figured.</p>

<p>Investigating the tinkerpop and gremlin systems I stumbled across OrientDB as an alternative to Neo4j.  After some initial reading of the glossy material it seems like an real competitor for my Neo4j/Mongo architecture.   What I roughly needed was a graph database that I could occationaly store a blob in a property.   OrientDB sure seems to be exactly that.  I was also impressed with the class hierarchy and in dataspace I have a &ldquo;content&rdquo; driven class hierarchy so having a system that allows me to dynamically create a class hierarchy was a nice added bonus.</p>

<p>The ease of embedibility was also an added win.  I really want to have a very simple architecture and there are many situations that merit a lower latency than a round trip to an external DB would allow.</p>

<p>Using the Disruptor pattern in the action execution queue would benefit having in memory speeds to dereference the objects.  I suspect if introduced a network round trip that many of the benefits gained from the use of the Distruptor would be lost. There are many references and warning that introducing too much latency in the handling of the messages will occlude the speed gain from the Disruptor.</p>

<p>Hazelcast seems to be a perfect fit into OrientDB and intend to piggy pack on that mechnism to deal with routing of messages between servers.  The zero config features and easy of deploy are nice wins but the real win is the &ldquo;magic&rdquo; multi master replication it provides.   Reading up on Hazelcast its been founded by the old CTO of Terracotta which is good stuff and at one point was going to be my clustering solution.</p>

<p>At this point I only have some initial impression of the speed of OrientDB.  It seems very fast.  It initializes fast. It starts fast.  It inserts fast.   I haven&rsquo;t exercised the clustering but I&rsquo;m encouraged by what I&rsquo;ve seen possible with Hazelcast and the rest of the OrientDB infrastructure.</p>

<p>I think I&rsquo;ve watched most of the talks Luca Garulli has given, so much I barely hear his accent any more.  His English isn&rsquo;t as bad as he says it is and you can tell it&rsquo;s improved from some of the earliest interviews.  Most of those talks are excellent and are very inspiring seeing what he&rsquo;s seemingly single handily did.  He always refers to a team etc. but it&rsquo;s clear he&rsquo;s written most of it himself.</p>

<p>Another thing that OrientDB seems to do better than Neo4j is the partitioning.   I couldn&rsquo;t find support other them referring to partitioning as a very hard problem in the context of Neo4j while OrientDB gives you explicit control over which nodes can read and write to what partition.  All very cool.   The support for classes spanning partitions also useful it seems.</p>

<p>I got the Neo4j spatial extensions working after fighting some weird dependency problems (mostly my fault).  They seem to have a good implementation of an RTree in there and what seems like full support for OpenMaps data structures.   All very cool.  All very big.  All allot more than what I need.  All I really need is to be able to do the most basic queries of &ldquo;what is in the rectangle&rdquo;.  Guess what.  What&rsquo;s the only thing that OrientDB currently supports?  Exactly that with a Lucene Spatial index.. ok then.. Nice and lean.  I&rsquo;ve done some basic queries but I haven&rsquo;t do a high scale test of it yet.   Initial tests are encouraging.</p>

<p>Luca Garulli answers the question &ldquo;how fast is, does it scale, etc.&rdquo; pretty well.  He basically says it&rsquo;s very very fast (with a great italian accent) and from what I see it&rsquo;s certainly true.  Poking around in the code he certainly understands what it is to write performant code and with the &ldquo;new tech&rdquo; the he created with the new indexing schemes sure seem to massively increase write speeds and insertion rates.  Again, I have yet to test at scale (another later post no doubt) but all the initial tests are good.</p>

<p>Lots of ways to interface to OrientDB.  The command line of course.  The excellent OrientDB Studio.  The gremlin console.  REST, Java API&hellip; I must be missing something.  Point is it&rsquo;s easy to call.  There is even a JDBC connector.</p>

<p>NoSQL DB has SQL support?  What?  can they do that?  do we need to name things different?  Perhaps.   A wise decision was made to &ldquo;start&rdquo; with SQL for the primary query language.  It&rsquo;s a definite super set of SQL with some well thought through graph extensions.</p>

<p>There are even a few pages in the manual showing how to do things in Scala rather than Java which was encouraging given that&rsquo;s how I&rsquo;ll be calling it exclusively.</p>

<p>OrientDB&rsquo;s URI string is very convenient.  Allows for in memory databases that don&rsquo;t persist or just any path.  I read somewhere that someone had thousands of databases on a single machine as well. Not that I plan to go that way but there are real scenarios for more than a single DB.  It&rsquo;s good to see it doesn&rsquo;t have that limitation.</p>

<p>Bad things to say about OrientDB.  Hmmm.. I normally wouldn&rsquo;t consider a review complete without saying a few bad things but frankly I haven&rsquo;t found anything of note to mention.  Granted I haven&rsquo;t gotten it up to high scale yet with my data set but I&rsquo;ll be testing it shorty.</p>

  </div>
  <div id="disqus_thread"></div>
</div>


  <script type="text/javascript">
     
    var disqus_shortname = 'ramblingsofthe101stmonkey'; 

     
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
    </script>

    <script type="text/javascript">
         
        var disqus_shortname = 'ramblingsofthe101stmonkey'; 

         
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    
    



<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56997690-1', 'auto');
  ga('send', 'pageview');

</script>

</body>
</html>