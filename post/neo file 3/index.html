<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title> &middot; </title>

  
  <link rel="stylesheet" href="http://blog.prohibitedgame.com/css/poole.css">
  <link rel="stylesheet" href="http://blog.prohibitedgame.com/css/hyde.css">
  <link rel="stylesheet" href="http://blog.prohibitedgame.com/css/poole-overrides.css">
  <link rel="stylesheet" href="http://blog.prohibitedgame.com/css/hyde-overrides.css">
  <link rel="stylesheet" href="http://blog.prohibitedgame.com/css/hyde-x.css">
  
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
  <link href="/favicon.png" rel="icon">

  
  <link href="" rel="alternate" type="application/rss+xml" title="Ramblings of the 101st Monkey &middot; " />

  <meta name="description" content="">
  <meta name="keywords" content="">
  <link rel="author" href="http://plus.google.com/haroldhhersey@gmail.com">
</head>
<body>

<div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <img src="http://www.gravatar.com/avatar/963da61f2309f941639485633af4c581?s=200" alt="gravatar">
      <h1></h1>
      <p class="lead">Ramblings of the 101st Monkey</p>
    </div>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item"><a href="http://blog.prohibitedgame.com/">Blog</a></li>
      
      <li class="sidebar-nav-item"><a href="">About</a></li>
      
    </ul>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item"><a href="https://github.com/hhh42">GitHub</a></li>
      <li class="sidebar-nav-item"><a href="http://lnkd.in/bnvEP_g">LinkedIn</a></li>
      
      
      
    </ul>

    <p>Copyright &copy; 2015 <a href="http://blog.prohibitedgame.com/license">License</a><br/>
       Powered by <a href="http://hugo.spf13.com">Hugo</a> and <a href="https://github.com/zyro/hyde-x">Hyde-X</a></p>
  </div>
</div>

<div class="content container">
  <div class="post">
    <h1></h1>
    <span class="post-date">Jan 1, 2008 &middot; 2 minute read</span>
    

<h1 id="toc_0">Neo4j</h1>

<p>I&rsquo;ve been back and forth on the database decision a few times but I&rsquo;m starting off with Neo4j because there are a few things in my domain that absolutely scream a graph database.  Notably all my pathing and proximity issues.<br />
The thing that pushed me over the edge was the optimization pass that I know I&rsquo;ll have to do with the reconciling of all the paths and finding existing &ldquo;globally known&rdquo; paths.   That basically offline batch mode would be perfect for a graph database.   Some very long queries that would influence long transactional changes.</p>

<p>The Spatial extentions allow an easy break down of &ldquo;in or out&rdquo; questions, nearness etc.  Apparently the spatial extentions use an RTree to make it all fast.<br />
I may do a simple quadtree to do the inital break downs of the area&rsquo;s based on some complexity measure.</p>

<p>The things that make me hesitate to use Neo4j for the primary database is the desire to store the entire tile grid which would be a terrible idea as nodes and relationships.  Instead I&rsquo;ll store things at the highest level I can get away with.  A node for a tree but not weeds or a stone etc.  Store the seed for the area and the constraint satisfier will take care of the rest.  Storying the map as a huge quad tree of smaller constraint satisfaction problems.  Could even solve the individual tree as it&rsquo;s own problem if I had to but I suspect that the area size (assuming it changes subdivides based on some meaningful complexity measure) should be a small enough CSP so that it won&rsquo;t be a memory hog or too big a search problem.</p>

<p>I still may yet encode a mini blob of json or something or an array &ldquo;constraints&rdquo; but I think I should be able to do that entirely by properties of the objects themselves  .  Open areas of grass may have to be an object that subdivides as something happens to it.  though what I&rsquo;m reading about Neo4j 2.2 there shouldn&rsquo;t be a problem with the scale I&rsquo;m talking about. I suspect I&rsquo;ll need to do some kind of &ldquo;region&rdquo; anyway based on current limitations of my generator but those might be easily overcome.</p>

<p>Storing the generated values as the .png&rsquo;s they currently are isn&rsquo;t a bad idea since they should be immutable though at some point some form of mutation may be needed but that could be reconciled over night and the changes are stored.</p>

  </div>
  <div id="disqus_thread"></div>
</div>


  <script type="text/javascript">
     
    var disqus_shortname = 'ramblingsofthe101stmonkey'; 

     
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
    </script>

    <script type="text/javascript">
         
        var disqus_shortname = 'ramblingsofthe101stmonkey'; 

         
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    
    



<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56997690-1', 'auto');
  ga('send', 'pageview');

</script>

</body>
</html>